{% extends "manage-base.html" %}
<!-- Add a CSRF token -->
{% include 'partials/sidebar.html' %}
{% block title %}Manage Employees{% endblock %}
{% block body %}
<h1>Manage Employees</h1>
<br>

<h2>Alter Employees (i.e., CUD from CRUD):</h2>
<!-- 
    One form for all. Speerate button for each.
    Form should take in the required data for creating, updating, deleting, users. 
    Ignore inputs that are not required to process a query but accept them anyway.
    Alternatively, you can style to hide them but we can ignore that for now.
    For now, we just need to collect all the fields except for the automatically generated ones.
-->
<p>You can ignore the fileds that you do not require (e.x. providing just the user_id for delete, ignoring the user_id for create and update)</p>
<form action="/manage-employees" METHOD="POST">
    <!-- TODO: Modify the input types and the different variable names to match the database (note: not sure if this is a security risk since this portion of the code is locally present on users browsers unencrypted) -->
    
    <!-- Input field's for the employee table -->
    <h3>General Information</h3>
    <input type="text" placeholder="(Optional) User ID" name="user_id">
    <input type="text" placeholder="Department ID" name="department_id"><br>
    <input type="text" placeholder="Firstname" name="firstname">
    <input type="text" placeholder="Lastname" name="lastname"><br>

    <h3>Account Information</h3>
    <input type="text" placeholder="Username" name="username">
    <input type="text" placeholder="Email" name="email">
    <input type="text" placeholder="Password" name="Password"><br>


    <!-- (Input field's for the nullable tables - should they be kept seperate?) -->

    <!-- Input field's for the address table -->
    <h3>Address Information</h3>
    <input type="text" placeholder="Street Number" name="street_num">
    <input type="text" placeholder="(Optional) Unit Number" name="unit_num"><br>
    <input type="text" placeholder="Street Name" name="street_name">
    <input type="text" placeholder="City" name="city"><br>
    <input type="text" placeholder="Province" name="province">
    <input type="text" placeholder="Postal Code" name="postal_code">
    <input type="text" placeholder="Country (e.x. CA)" name="country"><br>

    <!-- Input field's for the bank table -->
    <h3>Bank Information</h3>
    <input type="text" placeholder="Institue Number" name="institute_num"><br>
    <input type="text" placeholder="Transit Number" name="transit_num">
    <input type="text" placeholder="Account Number" name="account_num"><br>

    <!-- Input field's for the payroll table -->
    <input type="text" placeholder="City" name="city"><br>
    <input type="text" placeholder="Country" name="country"><br>

    <input type="submit" name="submit" value="Create">
    <input type="submit" name="submit" value="Update">
    <input type="submit" name="submit" value="Delete">
</form>
<br>

<h2>View Employees:</h2>
<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Department ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Username</th>
            <th scope="col">Email</th>
        </tr>
    </thead>
    {% for employee in employees %}
    <tr>
        <th scope="row">{{ employee.3 }}</th>
        <td>{{ employee.4 }}</td>
        <td>{{ employee.6 }}</td>
        <td>{{ employee.7 }}</td>
        <td>{{ employee.8 }}</td>
        <td>{{ employee.9 }}</td>
    </tr>
    {% endfor %}
</table>
<a>To view more information, such as the employees address or bank information, please fill the following form:</a>
<!-- Have a page with a form/page requesting the employee id and privacy awareness (page awalys refreshes clean i.e., when GET'ed) -->
{% endblock %}